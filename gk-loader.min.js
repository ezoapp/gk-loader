!function(t,n,e){"use strict";function r(t){var n=t.getAttribute("init"),e=function(){var n=t.getAttribute("callback");n&&new Function("return "+n)()()},r={};return r.init=n,r.callback=e,r}function i(t){var n=t.load;t.load=function(e,r){return n.apply(t,[e,r.endsWith(".js")?r:r+".js"])}}function o(t){var e=n.config(t);return y=k[x],i(y),m=y.defined,(y.status={})&&(v=y.status),e}function u(t){var n=!1;return h(t,function(t){return t in m?void 0:(n=!0,!0)}),n}function s(t){var n=[];return h(t,function(t){t.endsWith(".html")&&(t="@html!"+t.substr(0,t.length-5)),n.push(t)}),n}function c(t){var n=[];return h(t,function(t){t=O.absolute(t,E),t.endsWith(".html")&&(t=t.substr(0,t.length-5)),n.push(t)}),n}function l(t){return h(t,function(n,e){t[e]=q+n+".html"}),t}function a(t){h(t,function(t){v[t]&&"done"===v[t]||(v[t]="loading")})}function f(t){h(t,function(t){v[t]="done"})}function p(){h(Object.keys(v),function(t){"done"!==v[t]}),e.gk.init()}function g(t,n){var e=o(z),r=d(n)?n:function(){},i=s(t),l=c(t);u(l)?(a(l),e(i,function(){f(l),r(p)})):r(p)}function h(t,n){var e=Array.prototype.forEach,r={};if(null===t)return t;if(e&&t.forEach===e)t.forEach(n);else for(var i=0,o=t.length;o>i;i+=1)if(n.call(null,t[i],i,t)===r)return}function d(t){return"function"==typeof t}function b(){var t=document.getElementsByTagName("script");return t[t.length-1]}"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),Object.keys=Object.keys||function(){var t=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=e.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on a non-object");var o=[];for(var u in i)t.call(i,u)&&o.push(u);if(n)for(var s=0;r>s;s++)t.call(i,e[s])&&o.push(e[s]);return o}}();var y,m,v,O={dirname:function(t,n){return t.split("?")[0].split("/").slice(0,n||-1).join("/")},normalize:function(t){var n,e=t.split("://"),r="",i=[];for(e.length>1&&(r=e[0]+"://"+e[1].split("/")[0],t=t.substr(r.length)),t=t.replace(/\/+/g,"/"),0===t.indexOf("/")&&(r+="/",t=t.substr(1)),e=t.split("/");n=e.shift();)".."===n?i.pop():"."!==n&&i.push(n);return r+i.join("/")},isAbsolute:function(t){return t=t.toLowerCase(),0===t.indexOf("http://")||0===t.indexOf("https://")||0===t.indexOf("data:")||"/"===t[0]},absolute:function(t,n){return O.isAbsolute(t)||(t=O.normalize((n||"")+"/"+t)),t}},j=b(),k=n.s.contexts,x="gk",w=t.location,A=w.origin,E=O.dirname(w.pathname),S=O.normalize(j.src+"/../../"),W=j.getAttribute("componentBase")||(0===S.indexOf(A)?S.substr(A.length):S),q=W+"/gk-jquerymobile/",z={context:x,baseUrl:j.getAttribute("baseUrl")||"./",map:{"*":{"@css":W+"/require-css/css","@text":W+"/require-text/text","@html":W+"/gk-loader/element/loader.min","@wdgt":W+"/gk-loader/widget/loader.min"}},skipDataMain:!0},P=r(j);t.registryGK=g;var B=j.getAttribute("components"),I=j.getAttribute("gk-tags"),L=[];B?L=B.split(/[\s,]+/):I&&(L=l(I.split(/[\s,]+/))),g(L,function(t){(null===P.init||P.init&&"false"!==P.init)&&t(),P.callback()})}(window,requirejs,jQuery);