!function(t,n,e){"use strict";function r(t){var n={},r={lib:{dirname:d,normalize:b,isAbsolute:y,absolute:m,each:v,isFunction:k,$:e}};return n[t+"/require-text/text"]={useXhr:function(){return!0}},n[t+"/gk-loader/element/loader"]=r,n[t+"/gk-loader/widget/loader"]=r,n}function i(t){var n=t.getAttribute("init"),e=function(){var n=t.getAttribute("callback");n&&new Function("return "+n)()()},r={};return r.init=n,r.callback=e,r}function o(t){var n=t.load;t.load=function(e,r){return n.apply(t,[e,r.endsWith(".js")?r:r+".js"])}}function u(t){var e=n.config(t);return j=S[E],o(j),x=j.defined,(j.status={})&&(w=j.status),e}function c(t){var n=!1;return v(t,function(t){return t in x?void 0:(n=!0,!0)}),n}function s(t){var n=[];return v(t,function(t){t.endsWith(".html")&&(t="@html!"+t.substr(0,t.length-5)),n.push(t)}),n}function l(t){var n=[];return v(t,function(t){t=m(t,P),t.endsWith(".html")&&(t=t.substr(0,t.length-5)),n.push(t)}),n}function a(t){return v(t,function(n,e){t[e]=I+n+".html"}),t}function f(t){v(t,function(t){w[t]&&"done"===w[t]||(w[t]="loading")})}function p(t){v(t,function(t){w[t]="done"})}function g(){v(Object.keys(w),function(t){"done"!==w[t]}),e.gk.init()}function h(t,n){var e=u(L),r=k(n)?n:function(){},i=s(t),o=l(t);c(o)?(f(o),e(i,function(){p(o),r(g)})):r(g)}function d(t,n){return t.split("?")[0].split("/").slice(0,n||-1).join("/")}function b(t){var n,e=t.split("://"),r="",i=[];for(e.length>1&&(r=e[0]+"://"+e[1].split("/")[0],t=t.substr(r.length)),t=t.replace(/\/+/g,"/"),0===t.indexOf("/")&&(r+="/",t=t.substr(1)),e=t.split("/");n=e.shift();)".."===n?i.pop():"."!==n&&i.push(n);return r+i.join("/")}function y(t){return t=t.toLowerCase(),0===t.indexOf("http://")||0===t.indexOf("https://")||0===t.indexOf("data:")||"/"===t[0]}function m(t,n){return y(t)||(t=b((n||"")+"/"+t)),t}function v(t,n){var e=Array.prototype.forEach,r={};if(null===t)return t;if(e&&t.forEach===e)t.forEach(n);else for(var i=0,o=t.length;o>i;i+=1)if(n.call(null,t[i],i,t)===r)return}function k(t){return"function"==typeof t}function O(){var t=document.getElementsByTagName("script");return t[t.length-1]}"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys=Object.keys||function(){var t=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=e.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on a non-object");var o=[];for(var u in i)t.call(i,u)&&o.push(u);if(n)for(var c=0;r>c;c++)t.call(i,e[c])&&o.push(e[c]);return o}}();var j,x,w,A=O(),S=n.s.contexts,E="gk",q=t.location,W=q.origin,P=d(q.pathname),B=b(A.src+"/../../"),F=A.getAttribute("componentBase")||(0===B.indexOf(W)?B.substr(W.length):B),I=F+"/gk-jquerymobile/",L={context:E,baseUrl:A.getAttribute("baseUrl")||"./",map:{"*":{"@css":F+"/require-css/css","@text":F+"/require-text/text","@html":F+"/gk-loader/element/loader","@wdgt":F+"/gk-loader/widget/loader"}},config:r(F),skipDataMain:!0},T=i(A);t.registryGK=h;var U=A.getAttribute("components"),$=A.getAttribute("gk-tags"),z=[];U?z=U.split(/[\s,]+/):$&&(z=a($.split(/[\s,]+/))),h(z,function(t){(null===T.init||T.init&&"false"!==T.init)&&t(),T.callback()})}(window,requirejs,jQuery);